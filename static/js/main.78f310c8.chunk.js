(this.webpackJsonpyandex_auto_test=this.webpackJsonpyandex_auto_test||[]).push([[0],{19:function(t,e,n){t.exports={snippetsWrapper:"Snippets_snippetsWrapper__FbN_J",eachSnippet:"Snippets_eachSnippet__1P51Q",snippetsWrapperShow:"Snippets_snippetsWrapperShow___6b0B"}},22:function(t,e,n){t.exports={searchInput:"Search_searchInput__2_5_m",searchBlock:"Search_searchBlock__hMTBZ",show:"Search_show__2ocjZ",hide:"Search_hide__dScOd"}},25:function(t,e,n){t.exports={modalWindow:"DetailedSnippet_modalWindow__3yCEN",detailedSnippetWrapper:"DetailedSnippet_detailedSnippetWrapper__n0VY7"}},42:function(t,e,n){},43:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(13),o=n.n(i),r=(n(42),n(43),n(14)),c=n(15),p=n(18),l=n(17),u=n(16),h=n(11),d=n(35),b="API_REQUEST_IN_PROCESS",j={isResponseGot:!1};var f=Object(d.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(h.a)(Object(h.a)({},t),{},{isResponseGot:e.isResponseGot});default:return t}}),j),O=function(t){return{type:b,isResponseGot:t}},g=f,v=n(37),_=n(22),m=n.n(_),S=n(36),x=n.n(S);var k=n(19),y=n.n(k),w=n(9),D=n(1),N=function(t){var e,n,a=t.data,s=t.buttonRef,i=t.value;function o(t){t.target.src="https://klike.net/uploads/posts/2020-04/1587719791_1.jpg"}return a&&localStorage.setItem("data",JSON.stringify(a)),e=i&&i.isResponseGot&&void 0===a?"show":"hide",n=a||JSON.parse(localStorage.getItem("data")),Object(D.jsxs)("div",{className:a?y.a.snippetsWrapper:y.a.snippetsWrapperShow,ref:s,children:[Object(D.jsx)("div",{data:e}),n&&n.map((function(t){var e=t.key.split("/"),n=e[e.length-1],a=t.isbn?t.isbn[0]:"";return Object(D.jsx)(w.b,{to:{pathname:t.key,title:t.title,author:t.author_name?t.author_name[0]:"",publishDate:t.publish_date?t.publish_date[0]:"",publisher:t.publisher?t.publisher[0]:"",isbn:t.isbn?t.isbn[0]:"",cover:"http://covers.openlibrary.org/b/isbn/".concat(a,"-M.jpg?default=false")},children:Object(D.jsxs)("div",{className:y.a.eachSnippet,children:[Object(D.jsx)("img",{onError:o,src:"http://covers.openlibrary.org/b/isbn/".concat(a,"-M.jpg?default=false"),alt:"\u043e\u0431\u043b\u043e\u0436\u043a\u0430"}),Object(D.jsx)("h1",{children:t.title}),Object(D.jsx)("p",{children:t.author_name?t.author_name[0]:""})]},n)})}))]})},R=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={},a}return Object(c.a)(n,[{key:"addDefaultSrc",value:function(t){t.target.src="https://klike.net/uploads/posts/2020-04/1587719791_1.jpg"}},{key:"render",value:function(){var t;return t=this.props.value&&this.props.value.isResponseGot&&void 0===this.props.data?"show":"hide",Object(D.jsx)(N,{flag:t,addDefaultSrc:this.addDefaultSrc,setUrlPrefixDispacth:this.props.setUrlPrefixDispacth,data:this.props.data,buttonRef:this.props.buttonRef,value:this.props.value})}}]),n}(s.a.Component),I=function(t){var e,n,i=t.showLoadingAnimation,o=t.stopLoadingAnimation,r=t.value,c=!1,p=Object(a.useState)(e),l=Object(v.a)(p,2),u=l[0],h=l[1],d=s.a.createRef(),b=s.a.createRef();function j(){c=!0,n=setTimeout((function(){!function(t,e,n){x.a.get("https://openlibrary.org/search.json?q=".concat(t)).then((function(t){200===t.status&&(e(t.data.docs),n())}))}(e,h,o),c=!1}),1e3)}return Object(D.jsxs)("div",{className:m.a.searchInput,children:[Object(D.jsxs)("div",{className:m.a.searchBlock,children:[Object(D.jsx)("input",{type:"text",onChange:function(){e=d.current.value.replace(/ /g,"+").toLowerCase(),c?(clearTimeout(n),j()):j()},ref:d,placeholder:"type title of the book here"}),Object(D.jsx)("button",{onClick:function(){b.current.style.display="block",void 0!==e&&i()},children:"SEARCH"})]}),Object(D.jsx)(R,{buttonRef:b,data:u,value:r})]})},W=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;g.subscribe((function(){t.setState({isResponseGot:g.getState()})}))}},{key:"render",value:function(){return Object(D.jsx)("div",{children:Object(D.jsx)(I,{showLoadingAnimation:this.props.showLoadingAnimation,stopLoadingAnimation:this.props.stopLoadingAnimation,value:this.state.isResponseGot})})}}]),n}(s.a.Component),A=Object(u.b)((function(){return{}}),(function(t){return{showLoadingAnimation:function(){t(O(!0))},stopLoadingAnimation:function(){t(O(!1))}}}))(W),C=n(25),L=n.n(C),J=function(t){var e;return t.location.isbn?(e=t.location,localStorage.setItem("bookDetailedData",JSON.stringify(e))):(JSON.parse(localStorage.getItem("bookDetailedData"))||localStorage.setItem("bookDetailedData",JSON.stringify(e)),e=JSON.parse(localStorage.getItem("bookDetailedData"))),Object(D.jsxs)("div",{className:L.a.modalWindow,children:[Object(D.jsxs)("div",{className:L.a.detailedSnippetWrapper,children:[Object(D.jsx)("img",{onError:function(t){t.target.src="https://klike.net/uploads/posts/2020-04/1587719791_1.jpg"},src:e.cover,alt:""}),Object(D.jsxs)("h1",{children:["\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 ",e.title]}),Object(D.jsxs)("p",{children:["\u0410\u0412\u0422\u041e\u0420 ",e.author]}),Object(D.jsxs)("p",{children:["\u0414\u0410\u0422\u0410 \u041f\u0423\u0411\u041b\u0418\u041a\u0410\u0426\u0418\u0418 ",e.publishDate]}),Object(D.jsxs)("p",{children:["\u0418\u0417\u0414\u0410\u0422\u0415\u041b\u042c ",e.publisher]}),Object(D.jsxs)("p",{children:["ISBN ",e.isbn]})]}),Object(D.jsx)(w.b,{to:{pathname:"/book-founder"},children:Object(D.jsx)("button",{children:"\u2716"})})]})},B=n(3);var E=function(){return Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(B.a,{path:"/works",component:J}),Object(D.jsx)(B.a,{path:"/",component:A})]})},G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),s(t),i(t),o(t)}))};o.a.render(Object(D.jsx)(w.a,{children:Object(D.jsx)(u.a,{store:g,children:Object(D.jsx)(E,{})})}),document.getElementById("root")),G()}},[[72,1,2]]]);
//# sourceMappingURL=main.78f310c8.chunk.js.map