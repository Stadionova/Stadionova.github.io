(this.webpackJsonpyandex_auto_test=this.webpackJsonpyandex_auto_test||[]).push([[0],{17:function(e,t,n){e.exports={searchInput:"Search_searchInput__2_5_m",searchBlock:"Search_searchBlock__hMTBZ",show:"Search_show__2ocjZ",hide:"Search_hide__dScOd"}},18:function(e,t,n){e.exports={snippetsWrapper:"Snippets_snippetsWrapper__FbN_J",eachSnippet:"Snippets_eachSnippet__1P51Q"}},21:function(e,t,n){e.exports={modalWindow:"DetailedSnippet_modalWindow__3yCEN",detailedSnippetWrapper:"DetailedSnippet_detailedSnippetWrapper__n0VY7"}},42:function(e,t,n){},43:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(13),o=n.n(i),c=(n(42),n(43),n(30)),r=n(31),p=n(37),u=n(35),h=n(14),l=n(11),d=n(33),b="API_REQUEST_IN_PROCESS",j={isResponseGot:!1};var f=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{isResponseGot:t.isResponseGot});default:return e}}),j),O=function(e){return{type:b,isResponseGot:e}},_=f,v=n(36),m=n(17),x=n.n(m),g=n(34),S=n.n(g);var k=n(18),y=n.n(k),w=n(9),R=n(1),A=function(e){var t,n=e.data,s=e.buttonRef,a=e.value;function i(e){e.target.src="https://klike.net/uploads/posts/2020-04/1587719791_1.jpg"}return t=a&&a.isResponseGot&&void 0===n?"show":"hide",Object(R.jsxs)("div",{className:y.a.snippetsWrapper,ref:s,children:[Object(R.jsx)("div",{data:t}),n&&n.map((function(e){var t=e.key.split("/"),n=t[t.length-1],s=e.isbn?e.isbn[0]:"";return Object(R.jsx)(w.b,{to:{pathname:e.key,title:e.title,author:e.author_name?e.author_name[0]:"",publishDate:e.publish_date?e.publish_date[0]:"",publisher:e.publisher?e.publisher[0]:"",isbn:e.isbn?e.isbn[0]:"",cover:"http://covers.openlibrary.org/b/isbn/".concat(s,"-M.jpg?default=false")},children:Object(R.jsxs)("div",{className:y.a.eachSnippet,children:[Object(R.jsx)("img",{onError:i,src:"http://covers.openlibrary.org/b/isbn/".concat(s,"-M.jpg?default=false"),alt:"\u043e\u0431\u043b\u043e\u0436\u043a\u0430"}),Object(R.jsx)("h1",{children:e.title}),Object(R.jsx)("p",{children:e.author_name?e.author_name[0]:""})]},n)})}))]})},L=function(e){var t,n,i=e.showLoadingAnimation,o=e.stopLoadingAnimation,c=e.value,r=!1,p=Object(s.useState)(t),u=Object(v.a)(p,2),h=u[0],l=u[1],d=a.a.createRef(),b=a.a.createRef();function j(){r=!0,n=setTimeout((function(){!function(e,t,n){S.a.get("https://openlibrary.org/search.json?q=".concat(e)).then((function(e){200===e.status&&(t(e.data.docs),n())}))}(t,l,o),r=!1}),1e3)}return Object(R.jsxs)("div",{className:x.a.searchInput,children:[Object(R.jsxs)("div",{className:x.a.searchBlock,children:[Object(R.jsx)("input",{type:"text",onChange:function(){t=d.current.value.replace(/ /g,"+").toLowerCase(),r?(clearTimeout(n),j()):j()},ref:d,placeholder:"type title of the book here"}),Object(R.jsx)("button",{onClick:function(){b.current.style.display="block",void 0!==t&&i()},children:"SEARCH"})]}),Object(R.jsx)(A,{buttonRef:b,data:h,value:c})]})},N=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={},s}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;_.subscribe((function(){e.setState({isResponseGot:_.getState()})}))}},{key:"render",value:function(){return Object(R.jsx)("div",{children:Object(R.jsx)(L,{showLoadingAnimation:this.props.showLoadingAnimation,stopLoadingAnimation:this.props.stopLoadingAnimation,value:this.state.isResponseGot})})}}]),n}(a.a.Component),C=Object(h.b)((function(){return{}}),(function(e){return{showLoadingAnimation:function(){e(O(!0))},stopLoadingAnimation:function(){e(O(!1))}}}))(N),W=n(21),E=n.n(W),I=function(e){var t=e.location;return Object(R.jsxs)("div",{className:E.a.modalWindow,children:[Object(R.jsxs)("div",{className:E.a.detailedSnippetWrapper,children:[Object(R.jsx)("img",{onError:function(e){e.target.src="https://klike.net/uploads/posts/2020-04/1587719791_1.jpg"},src:t.cover,alt:""}),Object(R.jsxs)("h1",{children:["\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 ",t.title]}),Object(R.jsxs)("p",{children:["\u0410\u0412\u0422\u041e\u0420 ",t.author]}),Object(R.jsxs)("p",{children:["\u0414\u0410\u0422\u0410 \u041f\u0423\u0411\u041b\u0418\u041a\u0410\u0426\u0418\u0418 ",t.publishDate]}),Object(R.jsxs)("p",{children:["\u0418\u0417\u0414\u0410\u0422\u0415\u041b\u042c ",t.publisher]}),Object(R.jsxs)("p",{children:["ISBN ",t.isbn]})]}),Object(R.jsx)(w.b,{to:{pathname:"/"},children:Object(R.jsx)("button",{children:"\u2716"})})]})},B=n(3);var G=function(){return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(B.a,{path:"/works/",component:I}),Object(R.jsx)(B.a,{path:"/",component:C})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),i(e),o(e)}))};o.a.render(Object(R.jsx)(w.a,{children:Object(R.jsx)(h.a,{store:_,children:Object(R.jsx)(G,{})})}),document.getElementById("root")),D()}},[[72,1,2]]]);
//# sourceMappingURL=main.649420a6.chunk.js.map