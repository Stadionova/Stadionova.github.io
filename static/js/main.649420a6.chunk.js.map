{"version":3,"sources":["Components/Search/Search.module.scss","Components/Snippets/Snippets.module.scss","Components/DetailedSnippet/DetailedSnippet.module.scss","store.js","Components/Snippets/Snippets.jsx","Components/Search/Search.jsx","makeApiRequest.jsx","Components/Search/SearchContainer.jsx","Components/DetailedSnippet/DetailedSnippet.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","API_REQUEST_IN_PROCESS","initialState","isResponseGot","store","createStore","state","action","type","catchApiRequest","Snippets","flag","data","buttonRef","value","addDefaultSrc","event","target","src","undefined","className","classes","snippetsWrapper","ref","map","book","dataKey","key","split","id","length","isbn","to","pathname","title","author","publishDate","publisher","cover","eachSnippet","onError","alt","Search","currentInputValue","timerId","showLoadingAnimation","stopLoadingAnimation","isTimerStarted","useState","serverData","setServerData","inputValue","React","createRef","allSnipets","setTimerId","setTimeout","axios","get","then","response","status","docs","makeApiRequest","searchInput","searchBlock","onChange","current","replace","toLowerCase","clearTimeout","placeholder","onClick","style","display","SearchContainer","props","subscribe","setState","getState","this","Component","connect","dispatch","DetailedSnippet","bookDetailedData","location","modalWindow","detailedSnippetWrapper","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.649420a6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchInput\":\"Search_searchInput__2_5_m\",\"searchBlock\":\"Search_searchBlock__hMTBZ\",\"show\":\"Search_show__2ocjZ\",\"hide\":\"Search_hide__dScOd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snippetsWrapper\":\"Snippets_snippetsWrapper__FbN_J\",\"eachSnippet\":\"Snippets_eachSnippet__1P51Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalWindow\":\"DetailedSnippet_modalWindow__3yCEN\",\"detailedSnippetWrapper\":\"DetailedSnippet_detailedSnippetWrapper__n0VY7\"};","import { createStore } from 'redux';\r\n\r\nconst API_REQUEST_IN_PROCESS = 'API_REQUEST_IN_PROCESS';\r\n\r\nconst initialState = {\r\n    isResponseGot: false\r\n};\r\n\r\nfunction catchApiResponse(state = initialState, action) {\r\n    switch (action.type) {\r\n        case API_REQUEST_IN_PROCESS:\r\n            return {\r\n                ...state,\r\n                isResponseGot: action.isResponseGot\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst store = createStore(catchApiResponse, initialState);\r\n\r\nexport const catchApiRequest = (isResponseGot) => {\r\n    return {\r\n        type: API_REQUEST_IN_PROCESS,\r\n        isResponseGot: isResponseGot\r\n    }\r\n};\r\n\r\nexport default store;\r\n\r\n","import classes from \"./Snippets.module.scss\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Snippets = ({ data, buttonRef, value }) => {\r\n    let flag;\r\n    if (value && value.isResponseGot && data === undefined) {\r\n        flag = 'show';\r\n    } else {\r\n        flag = 'hide';\r\n    }\r\n    function addDefaultSrc(event) {\r\n        event.target.src = 'https://klike.net/uploads/posts/2020-04/1587719791_1.jpg';\r\n    }\r\n    return (\r\n        <div className={classes.snippetsWrapper} ref={buttonRef}>\r\n            <div data={flag}></div>\r\n            {data && data.map(book => {\r\n                const dataKey = book.key.split('/');\r\n                const id = dataKey[dataKey.length - 1];\r\n                const isbn = book.isbn ? book.isbn[0] : '';\r\n                return (\r\n                    <NavLink\r\n                        to={{\r\n                            pathname: book.key,\r\n                            title: book.title,\r\n                            author: book['author_name'] ? book['author_name'][0] : '',\r\n                            publishDate: book['publish_date'] ? book['publish_date'][0] : '',\r\n                            publisher: book.publisher ? book.publisher[0] : '',\r\n                            isbn: book.isbn ? book.isbn[0] : '',\r\n                            cover: `http://covers.openlibrary.org/b/isbn/${isbn}-M.jpg?default=false`\r\n                        }}>\r\n                        <div className={classes.eachSnippet} key={id}>\r\n                            <img\r\n                                onError={addDefaultSrc}\r\n                                src={`http://covers.openlibrary.org/b/isbn/${isbn}-M.jpg?default=false`}\r\n                                alt=\"обложка\" />\r\n                            <h1>{book.title}</h1>\r\n                            <p>{book['author_name'] ? book['author_name'][0] : ''}</p>\r\n                        </div>\r\n                    </NavLink>\r\n                )\r\n            })}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Snippets;\r\n","import classes from \"./Search.module.scss\";\r\nimport makeApiRequest from \"../../makeApiRequest\";\r\nimport Snippets from \"../Snippets/Snippets\";\r\nimport React, { useState } from 'react';\r\n\r\nconst Search = ({ showLoadingAnimation, stopLoadingAnimation, value }) => {\r\n    let currentInputValue;\r\n    let isTimerStarted = false;\r\n    let timerId;\r\n\r\n    const [serverData, setServerData] = useState(currentInputValue);\r\n    const inputValue = React.createRef();\r\n    const allSnipets = React.createRef();\r\n\r\n    function showAllBooks() {\r\n        allSnipets.current.style.display = 'block';\r\n        if (currentInputValue !== undefined) {\r\n            showLoadingAnimation();\r\n        }\r\n    }\r\n\r\n    function setTimerId() {\r\n        isTimerStarted = true;\r\n        timerId = setTimeout(() => {\r\n            makeApiRequest(currentInputValue, setServerData, stopLoadingAnimation);\r\n            isTimerStarted = false;\r\n        }, 1000);\r\n    }\r\n\r\n    function catchInputChanges() {\r\n        currentInputValue = inputValue.current.value.replace(/ /g, \"+\").toLowerCase();\r\n        if (!isTimerStarted) {\r\n            setTimerId();\r\n        } else {\r\n            clearTimeout(timerId);\r\n            setTimerId();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.searchInput}>\r\n            <div className={classes.searchBlock}>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={catchInputChanges}\r\n                    ref={inputValue}\r\n                    placeholder='type title of the book here'\r\n                />\r\n                <button onClick={showAllBooks}>SEARCH</button>\r\n            </div>\r\n            <Snippets buttonRef={allSnipets} data={serverData} value={value} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;\r\n","import axios from \"axios\";\r\n\r\nexport default function getServerData(currentInputValue, setServerData, stopLoadingAnimation) {\r\n    axios.get(`https://openlibrary.org/search.json?q=${currentInputValue}`).then(response => {\r\n        if (response.status === 200) {\r\n            setServerData(response.data.docs);\r\n            stopLoadingAnimation();\r\n        }\r\n    });\r\n}\r\n","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { catchApiRequest } from \"../../store\";\r\nimport Search from \"./Search\";\r\nimport store from '../../store';\r\n\r\nconst mapStateToProps = function () {\r\n    return {};\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        showLoadingAnimation: () => {\r\n            dispatch(catchApiRequest(true));\r\n        },\r\n        stopLoadingAnimation: () => {\r\n            dispatch(catchApiRequest(false));\r\n        }\r\n    }\r\n}\r\n\r\nclass SearchContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n    }\r\n    componentDidMount() {\r\n        store.subscribe(() => {\r\n            this.setState({ isResponseGot: store.getState() });\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Search\r\n                    showLoadingAnimation={this.props.showLoadingAnimation}\r\n                    stopLoadingAnimation={this.props.stopLoadingAnimation}\r\n                    value={this.state.isResponseGot}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer);\r\n","import classes from \"./DetailedSnippet.module.scss\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DetailedSnippet = (props) => {\r\n    const bookDetailedData = props.location;\r\n    function addDefaultSrc(event) {\r\n        event.target.src = 'https://klike.net/uploads/posts/2020-04/1587719791_1.jpg';\r\n    }\r\n    return (\r\n        <div className={classes.modalWindow}>\r\n            <div className={classes.detailedSnippetWrapper}>\r\n                <img onError={addDefaultSrc} src={bookDetailedData.cover} alt=\"\" />\r\n                <h1>НАЗВАНИЕ {bookDetailedData.title}</h1>\r\n                <p>АВТОР {bookDetailedData.author}</p>\r\n                <p>ДАТА ПУБЛИКАЦИИ {bookDetailedData.publishDate}</p>\r\n                <p>ИЗДАТЕЛЬ {bookDetailedData.publisher}</p>\r\n                <p>ISBN {bookDetailedData.isbn}</p>\r\n            </div>\r\n            <NavLink\r\n                to={{\r\n                    pathname: '/'\r\n                }}>\r\n                <button>✖</button>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailedSnippet;\r\n","import './App.scss';\nimport SearchContainer from './Components/Search/SearchContainer';\nimport DetailedSnippet from './Components/DetailedSnippet/DetailedSnippet';\nimport { Route } from \"react-router-dom\";\nimport React from \"react\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Route path='/works/' component={DetailedSnippet} />\n      <Route path='/' component={SearchContainer} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}